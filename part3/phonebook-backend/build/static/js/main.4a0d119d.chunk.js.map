{"version":3,"sources":["services/persons.js","components/PersonForm.js","components/Person.js","components/Filter.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","PersonForm","newName","newNumber","persons","setNewName","setNewNumber","setPersons","setMessage","handleInputChange","event","setValue","target","value","onChange","e","type","onClick","preventDefault","found","filter","person","name","length","window","confirm","personObject","number","personService","returnedObject","map","text","setTimeout","catch","error","n","concat","Person","nameFilter","filteredPersons","toLowerCase","includes","index","confirmDelete","Filter","setFilter","Notification","message","undefined","className","App","useState","useEffect","personList","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4a0d119d.chunk.js","sourcesContent":["import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nconst deletePerson = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nexport default {\n  getAll,\n  create,\n  update,\n  deletePerson,\n};\n","import React from \"react\";\nimport personService from \"../services/persons\";\n\nconst PersonForm = ({\n  newName,\n  newNumber,\n  persons,\n  setNewName,\n  setNewNumber,\n  setPersons,\n  setMessage,\n}) => {\n  const addPerson = (event) => {\n    event.preventDefault();\n    let found = persons.filter((person) => person.name === newName);\n    if (found && found.length !== 0) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        const personObject = {\n          name: newName,\n          number: newNumber,\n        };\n\n        personService\n          .update(found[0].id, personObject)\n          .then((returnedObject) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== found[0].id ? person : returnedObject\n              )\n            );\n            setMessage({ text: `Updated ${found[0].name}`, type: \"notify\" });\n            setTimeout(() => {\n              setMessage({});\n            }, 5000);\n          })\n          .catch((error) => {\n            setMessage({\n              text: `Information of ${found[0].name} has already been removed from server`,\n              type: \"error\",\n            });\n            setTimeout(() => {\n              setMessage({});\n            }, 5000);\n            setPersons(persons.filter((n) => n.id !== found[0].id));\n          });\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber,\n      };\n      personService\n        .create(personObject)\n        .then((returnedObject) => {\n          setMessage({ text: `Added ${newName}`, type: \"notify\" });\n          setPersons(persons.concat(returnedObject));\n        })\n        .catch((error) => {\n          setMessage({\n            text: `${error.response.data.error}`,\n            type: \"error\",\n          });\n        });\n      setNewName(\"\");\n      setNewNumber(\"\");\n      setTimeout(() => {\n        setMessage({});\n      }, 5000);\n    }\n  };\n\n  const handleInputChange = (event, setValue) => {\n    setValue(event.target.value);\n  };\n\n  return (\n    <form>\n      <div>\n        name:{\" \"}\n        <input\n          value={newName}\n          onChange={(e) => handleInputChange(e, setNewName)}\n        />\n      </div>\n      <div>\n        number:{\" \"}\n        <input\n          value={newNumber}\n          onChange={(e) => handleInputChange(e, setNewNumber)}\n        />\n      </div>\n      <div>\n        <button type=\"submit\" onClick={addPerson}>\n          add\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\nimport personService from \"../services/persons\";\n\nconst Person = ({ persons, nameFilter, setPersons, setMessage }) => {\n  const filteredPersons = persons.filter((person) =>\n    person.name.toLowerCase().includes(nameFilter.toLowerCase())\n  );\n\n  const confirmDelete = (person, id) => {\n    if (window.confirm(`Delete ${person} ?`)) {\n      personService\n        .deletePerson(id)\n        .then((returnedObject) => {\n          setPersons(persons.filter((n) => n.id !== id));\n        })\n        .catch((error) => {\n          setMessage({\n            text: `Information of ${person} has already been removed from server`,\n            type: \"error\",\n          });\n          setTimeout(() => {\n            setMessage({});\n          }, 5000);\n          setPersons(persons.filter((n) => n.id !== id));\n        });\n    }\n  };\n\n  return (\n    <>\n      {filteredPersons.map((person, index) => {\n        return (\n          <div key={index}>\n            {person.name} {person.number}{\" \"}\n            <button onClick={() => confirmDelete(person.name, person.id)}>\n              delete\n            </button>\n          </div>\n        );\n      })}\n    </>\n  );\n};\n\nexport default Person;\n","import React from \"react\";\n\nconst Filter = ({ nameFilter, setFilter }) => {\n  const handleFilterInput = (event) => {\n    setFilter(event.target.value);\n  };\n  return (\n    <div>\n      filter shown with:{\" \"}\n      <input value={nameFilter} onChange={handleFilterInput} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst Notification = ({ message, type }) => {\n  if (message === undefined) {\n    return null;\n  }\n\n  return <div className={type === \"error\" ? \"error\" : \"notify\"}>{message}</div>;\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport PersonForm from \"./components/PersonForm\";\nimport Person from \"./components/Person\";\nimport Filter from \"./components/Filter\";\nimport personService from \"./services/persons\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [nameFilter, setFilter] = useState(\"\");\n  const [message, setMessage] = useState({});\n\n  useEffect(() => {\n    personService.getAll().then((personList) => {\n      setPersons(personList);\n    });\n  }, []);\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message.text} type={message.type} />\n      <Filter nameFilter={nameFilter} setFilter={setFilter} />\n      <h3>add a new</h3>\n      <PersonForm\n        newName={newName}\n        newNumber={newNumber}\n        persons={persons}\n        setNewName={setNewName}\n        setNewNumber={setNewNumber}\n        setPersons={setPersons}\n        setMessage={setMessage}\n      />\n      <h3>Numbers</h3>\n      <Person\n        persons={persons}\n        nameFilter={nameFilter}\n        setPersons={setPersons}\n        setMessage={setMessage}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}